<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/main.css">
  <script src="../js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
</head>

<body>

  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h2>Well Grounded</h2>
    </div>
  </div>

  <div class="container">

    
<div class='text'>
 
<div class='header'>
 <span>Foundations</span> 
</div>

</div>
<div class='text'>

<p>You must use <b>return</b> when returning multiple results from a method, or just return the array</p>

</div>
<div class='code'>
<div>def&nbsp;m</div>
<div>&nbsp;&nbsp;return&nbsp;1,2,3</div>
<div>end</div>
<div>&nbsp;</div>
<div>print&nbsp;m&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,&nbsp;2,&nbsp;3]</div>
<div>&nbsp;</div>
<div>def&nbsp;m</div>
<div>&nbsp;&nbsp;1,2,3</div>
<div>end</div>
<div>&nbsp;</div>
<div>print&nbsp;m&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,&nbsp;2,&nbsp;3]&nbsp;<span class='glyphicon glyphicon-fire' style='color:orange'></span>&nbsp;syntax&nbsp;error,&nbsp;unexpected&nbsp;<span class='string'>','</span>,&nbsp;expecting&nbsp;keyword_end</div>

</div>
<div class='text'>

<p>__send__ is an safer alternative to send if you are paranoid about somebody
monkeypatching send. Note: send can call an objects private methods.  If may be
safer to use public_send for 'tainted' send parameters.</p>

</div>
<div class='code'>
<div>Object.new.send(:local_variables)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[:_]</div>
<div>Object.new.public_send(:local_variables)&nbsp;<span class='glyphicon glyphicon-fire' style='color:orange'></span>&nbsp;NoMethodError:&nbsp;private&nbsp;method&nbsp;`local_variables'&nbsp;called</div>

</div>
<div class='text'>

<p>Beware that setter methods will return the set value, not what the method returns, for consistency</p>

</div>
<div class='code'>
<div>class&nbsp;My</div>
<div>&nbsp;&nbsp;def&nbsp;x=(x)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@x&nbsp;=&nbsp;x</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class='string'><span class='highlight'>'boooo'</span></span>&nbsp;</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;def&nbsp;x</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@x</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>o&nbsp;=&nbsp;My.new</div>
<div>p&nbsp;o.x&nbsp;=&nbsp;<span class='highlight'>1</span>&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;&nbsp;<span class='highlight'>1</span>,&nbsp;not&nbsp;<span class='string'>'boooo'</span></div>

</div>
<div class='text'>

<p>The default superclass of a class is Object </p>

</div>
<div class='code'>
<div>class&nbsp;MyClass</div>
<div>end</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;same&nbsp;as</span></div>
<div>&nbsp;</div>
<div>class&nbsp;MyClass&nbsp;< Object</div>
<div>end</div>

</div>
<div class='text'>

<p>You can make a class like this:</p>

</div>
<div class='code'>
<div>my_class&nbsp;=&nbsp;Class.new&nbsp;do</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;hello</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;:hello</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>my_class.new.hello&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Built in Essentials</span> 
</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Collections central: Enumerable and Enumerator</span> 
</div>

</div>
<div class='text'>

<p>Danger of find()ing for nil</p>

</div>
<div class='code'>
<div>p&nbsp;[1,2,3,nil,4,5,6].find&nbsp;{|n|&nbsp;n.nil?}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;nil</div>
<div>p&nbsp;[1,2,3,4,5,6].find&nbsp;{|n|&nbsp;n.nil?}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;nil</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;use&nbsp;include?&nbsp;instead</span></div>
<div>p&nbsp;[1,2,3,nil,4,5,6].include?&nbsp;nil&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;true</div>
<div>p&nbsp;[1,2,3,4,5,6].include?&nbsp;nil&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;false</div>

</div>
<div class='text'>

<p>select! / reject! is a handy but brutal</p>

</div>
<div class='code'>
<div>a&nbsp;=&nbsp;[1,2,3,4,5,6,7,8]</div>
<div>a.select!&nbsp;{|x|&nbsp;x&nbsp;%&nbsp;2&nbsp;==&nbsp;1}</div>
<div>p&nbsp;a&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,3,5,7]</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;there's&nbsp;an&nbsp;opposite</span></div>
<div>a&nbsp;=&nbsp;[1,2,3,4,5,6,7,8]</div>
<div>a.reject!&nbsp;{|x|&nbsp;x&nbsp;%&nbsp;2&nbsp;==&nbsp;1}</div>
<div>p&nbsp;a&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[2,4,6,8]</div>

</div>
<div class='text'>

<p>grep and ===</p>
<i> grep calls === on argument for each element </i><br />
<i> same as enumerable.select {|element| expression === element }</i>

</div>
<div class='code'>
<div>p&nbsp;[1,2,<span class='string'>"3"</span>,4,<span class='string'>"5"</span>,6].grep&nbsp;String&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[<span class='string'>"3"</span>,&nbsp;<span class='string'>"5"</span>]</div>
<div>p&nbsp;[<span class='string'>'red'</span>,&nbsp;<span class='string'>'white'</span>,&nbsp;<span class='string'>'blue'</span>].grep&nbsp;/w/&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;['white]</div>
<div>p&nbsp;[10,&nbsp;20,&nbsp;30,&nbsp;40,&nbsp;50].grep&nbsp;20..40&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[20,&nbsp;30,&nbsp;40]</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;grep&nbsp;also&nbsp;takes&nbsp;a&nbsp;block&nbsp;for&nbsp;mutations</span></div>
<div>&nbsp;</div>
<div>p&nbsp;[<span class='string'>'red'</span>,&nbsp;<span class='string'>'white'</span>,&nbsp;<span class='string'>'blue'</span>].grep(/w/)&nbsp;{|x|&nbsp;x.upcase}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;['WHITE]</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;or&nbsp;just&nbsp;do&nbsp;it&nbsp;like&nbsp;this&nbsp;with&nbsp;map&nbsp;and&nbsp;don't&nbsp;confuse&nbsp;everybody</span></div>
<div>p&nbsp;[<span class='string'>'red'</span>,&nbsp;<span class='string'>'white'</span>,&nbsp;<span class='string'>'blue'</span>].grep(/w/).map&nbsp;{|x|&nbsp;x.upcase}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;['WHITE]</div>

</div>
<div class='text'>

<p>take and drop look handy</p>

</div>
<div class='code'>
<div>a&nbsp;=&nbsp;[1,2,3]</div>
<div>p&nbsp;a.take(2)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,2]</div>
<div>p&nbsp;a&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,2,3]&nbsp;(unchanged)</div>
<div>&nbsp;</div>
<div>p&nbsp;a.drop(2)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[3]</div>
<div>p&nbsp;a&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[1,2,3]&nbsp;(unchanged)</div>

</div>
<div class='text'>

<p>take_while and drop_while are like first and select</p>

</div>
<div class='code'>
<div>p&nbsp;[12,32,54,100,445,35353,333333].take_while&nbsp;{|x|&nbsp;x&nbsp;< 500} <span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[12,&nbsp;32,&nbsp;54,&nbsp;100,&nbsp;445]</div>
<div>p&nbsp;[12,32,54,100,445,35353,333333].drop_while&nbsp;{|x|&nbsp;x&nbsp;< 500} <span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[35353,&nbsp;333333]</div>

</div>
<div class='text'>

<p>min_by is less confusing than min and the spaceship operator if you aren't using numbers</p>

</div>
<div class='code'>
<div>p&nbsp;%w{red&nbsp;blue&nbsp;green&nbsp;purple&nbsp;yellow}.min&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;blue</div>
<div>p&nbsp;%w{red&nbsp;blue&nbsp;green&nbsp;purple&nbsp;yellow}.min_by&nbsp;{|x|&nbsp;x.size&nbsp;}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;red</div>
<div>p&nbsp;%w{red&nbsp;blue&nbsp;green&nbsp;purple&nbsp;yellow}.min_by&nbsp;{|x|&nbsp;x[0].ord&nbsp;}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;blue</div>

</div>
<div class='text'>

<p>Three ways to sort an array of custom classes</p>

</div>
<div class='code'>
<div><span class='comment'>#&nbsp;define&nbsp;a&nbsp;method&nbsp;<=>&nbsp;for&nbsp;things&nbsp;</span></div>
<div>things.sort</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;specify&nbsp;how&nbsp;to&nbsp;sort</span></div>
<div>things.sort&nbsp;{|a,b|&nbsp;a.value&nbsp;<=>&nbsp;b.value&nbsp;}&nbsp;</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;specify&nbsp;what&nbsp;to&nbsp;sort&nbsp;on</span></div>
<div>things.sort_by&nbsp;{|a|&nbsp;a.value&nbsp;}</div>

</div>
<div class='text'>

<p>Include Comparable, define <=>, and get comparison abilities for your class</p>

</div>
<div class='code'>
<div>class&nbsp;ComparableClass</div>
<div>&nbsp;&nbsp;include&nbsp;Comparable</div>
<div>&nbsp;&nbsp;attr_accessor&nbsp;:value</div>
<div>&nbsp;&nbsp;def&nbsp;initialize(value)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;self.value&nbsp;=&nbsp;value</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;def&nbsp;<=>(other)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;<=>&nbsp;other.value</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;def&nbsp;inspect</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;value</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>objs&nbsp;=&nbsp;5.times.map&nbsp;{|x|&nbsp;ComparableClass.new(x)&nbsp;}</div>
<div>p&nbsp;objs[0]&nbsp;< objs[3] <span class='glyphicon glyphicon-arrow-right'></span>&nbsp;true</div>
<div>p&nbsp;objs[2]&nbsp;< objs[1] <span class='glyphicon glyphicon-arrow-right'></span>&nbsp;false</div>

</div>
<div class='text'>

<p>Enumerators can be implemented like below (enumerators depend on fibers ).  I
wrote this in 5 minutes but it still hurts my head to think about.</p>

</div>
<div class='code'>
<div>class&nbsp;MyEnumerator</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;initialize(&b)</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@fiber&nbsp;=&nbsp;Fiber.new&nbsp;do</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yielder&nbsp;=&nbsp;->(x){&nbsp;Fiber.yield&nbsp;x&nbsp;}</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.call(yielder)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;next</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@fiber.resume</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>e&nbsp;=&nbsp;MyEnumerator.new&nbsp;do&nbsp;|y|</div>
<div>&nbsp;&nbsp;[1,2,3].each&nbsp;do&nbsp;|x|&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;y.yield&nbsp;x&nbsp;<span class='comment'>#&nbsp;y.call(x)&nbsp;seems&nbsp;to&nbsp;work&nbsp;for&nbsp;custom&nbsp;enumerator,&nbsp;not&nbsp;for&nbsp;standard&nbsp;enumerator</span></div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;1</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;2</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;3</div>

</div>
<div class='text'>

<p>enum_for takes a method to enumerate on, and could be implemented like this</p>

</div>
<div class='code'>
<div>class&nbsp;Array</div>
<div>&nbsp;&nbsp;def&nbsp;my_enum_for(method&nbsp;=&nbsp;:each)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;Enumerator.new&nbsp;do&nbsp;|y|</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send(method)&nbsp;do&nbsp;|x|</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;<< x</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>e&nbsp;=&nbsp;[1,2,3].my_enum_for(:map)</div>
<div>&nbsp;</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;1</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;2</div>
<div>p&nbsp;e.next&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;3</div>

</div>
<div class='text'>

<p>Protect an object with its enumerable (not sure how useful this is)</p>

</div>
<div class='code'>
<div>a&nbsp;=&nbsp;(0..9).to_a</div>
<div>e&nbsp;=&nbsp;a.enum_for</div>
<div>p&nbsp;e.map&nbsp;{|x|&nbsp;x}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;[0,&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;8,&nbsp;9]</div>
<div>e&nbsp;<< 10 <span class='glyphicon glyphicon-fire' style='color:orange'></span>&nbsp;undefined&nbsp;method&nbsp;`<<' for Enumerator:</div>

</div>
<div class='text'>

<p>Making a class 'enumerable' without including Enumerable by hooking its each() up to enumerator</p>

</div>
<div class='code'>
<div>class&nbsp;MyClass</div>
<div>&nbsp;&nbsp;def&nbsp;initialize</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@a&nbsp;=&nbsp;(0..9).to_a</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;def&nbsp;each</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@a.each&nbsp;{|x|&nbsp;yield&nbsp;x}</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>obj&nbsp;=&nbsp;MyClass.new</div>
<div>obj.each&nbsp;{|x|&nbsp;print&nbsp;x&nbsp;}&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;0123456789</div>
<div>&nbsp;</div>
<div>p&nbsp;obj.enum_for(:each).min&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;0</div>
<div>p&nbsp;obj.enum_for(:each).max&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;9</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Regex</span> 
</div>

</div>
<div class='text'>

<p>Three ways to test for regex match, ugh</p>

</div>
<div class='code'>
<div>re&nbsp;=&nbsp;/there/</div>
<div>string&nbsp;=&nbsp;<span class='string'>'here&nbsp;there&nbsp;everywhere'</span></div>
<div>&nbsp;</div>
<div>puts&nbsp;<span class='string'>"Match!"</span>&nbsp;if&nbsp;re.match(string)</div>
<div>puts&nbsp;<span class='string'>"Match!"</span>&nbsp;if&nbsp;string&nbsp;=~&nbsp;re</div>
<div>puts&nbsp;<span class='string'>"Match!"</span>&nbsp;if&nbsp;re&nbsp;=~&nbsp;string&nbsp;<span class='comment'>#&nbsp;reverse&nbsp;of&nbsp;previous</span></div>
<div>puts&nbsp;<span class='string'>"Match!"</span>&nbsp;if&nbsp;re&nbsp;===&nbsp;string</div>
<div>puts&nbsp;<span class='string'>"Match!"</span>&nbsp;if&nbsp;string&nbsp;===&nbsp;re&nbsp;<span class='glyphicon glyphicon-fire' style='color:orange'></span>&nbsp;doesn't&nbsp;work&nbsp;in&nbsp;reverse</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Object Individualization</span> 
</div>

</div>
<div class='text'>

<p>extend() : "the mixing of a module into an object's singleton class"</p>
<i>From ruby-doc.org: "Adds to obj the instance methods from each module given as a parameter."</i><br />
<i>Common use: dump a modules instance methods into a class's singleton class</i><br />
<i>Difference from include(): which dumps modules instance methods into classes instance methods</p>

</div>
<div class='code'>
<div>module&nbsp;MyModule</div>
<div>&nbsp;&nbsp;def&nbsp;hello</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;:hello</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>&nbsp;</div>
<div>obj&nbsp;=&nbsp;Object.new</div>
<div>obj.extend&nbsp;MyModule</div>
<div>obj.hello&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello</div>
<div>&nbsp;</div>
<div>String.extend&nbsp;MyModule</div>
<div><span class='string'>'asdf'</span>.class.hello&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;this&nbsp;would&nbsp;have&nbsp;worked&nbsp;too</span></div>
<div>class&nbsp;<< obj</div>
<div>&nbsp;&nbsp;<span class='highlight'>include</span>&nbsp;MyModule&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>obj.hello&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Callable and Runnable Objects</span> 
</div>

</div>
<div class='text'>

<p>Some idioms used used proc objects</p>

</div>
<div class='code'>
<div><span class='comment'>#&nbsp;currying</span></div>
<div>def&nbsp;mult(factor)</div>
<div>&nbsp;&nbsp;Proc.new&nbsp;do&nbsp;|x|</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;*&nbsp;factor</div>
<div>&nbsp;&nbsp;end</div>
<div>end</div>
<div>mult3&nbsp;=&nbsp;mult(3)</div>
<div>p&nbsp;mult3.call(3)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;9</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;counter</span></div>
<div>def&nbsp;mk_counter</div>
<div>&nbsp;&nbsp;count&nbsp;=&nbsp;0</div>
<div>&nbsp;&nbsp;Proc.new&nbsp;{&nbsp;count&nbsp;=&nbsp;count&nbsp;+&nbsp;1&nbsp;}</div>
<div>end</div>
<div>&nbsp;</div>
<div>counter&nbsp;=&nbsp;mk_counter</div>
<div>p&nbsp;counter.call&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;1</div>
<div>p&nbsp;counter.call&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;2</div>
<div>p&nbsp;counter.call&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;3</div>

</div>
<div class='text'>

<p>Weird way to run runable object</p>

</div>
<div class='code'>
<div>proc&nbsp;=&nbsp;Proc.new&nbsp;{|x|&nbsp;puts&nbsp;x&nbsp;}</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;normal</span></div>
<div>proc.call(<span class='string'>'asdf'</span>)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;asdf</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;not&nbsp;that&nbsp;weird</span></div>
<div>proc[<span class='string'>'asdf'</span>]&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;asdf</div>
<div>&nbsp;</div>
<div><span class='comment'>#&nbsp;weird</span></div>
<div>proc.(<span class='string'>'asdf'</span>)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;asdf</div>

</div>
<div class='text'>

<p>instance_eval for more friendly configuration</p>

</div>
<div class='code'>
<div>class&nbsp;Person</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;initialize(&block)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;<span class='comment'>#&nbsp;the&nbsp;secret&nbsp;sauce&nbsp;-&nbsp;run&nbsp;block&nbsp;in&nbsp;context&nbsp;of&nbsp;self</span></div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;instance_eval(&block)&nbsp;</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;<span class='comment'>#&nbsp;both&nbsp;setter&nbsp;and&nbsp;getter</span></div>
<div>&nbsp;&nbsp;def&nbsp;first(name=nil)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@first&nbsp;=&nbsp;@first&nbsp;||&nbsp;name</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;<span class='comment'>#&nbsp;both&nbsp;setter&nbsp;and&nbsp;getter</span></div>
<div>&nbsp;&nbsp;def&nbsp;last(name=nil)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@last&nbsp;=&nbsp;@last&nbsp;||&nbsp;name</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>person&nbsp;=&nbsp;Person.new&nbsp;do</div>
<div>&nbsp;&nbsp;first&nbsp;<span class='string'>'Bob'</span></div>
<div>&nbsp;&nbsp;last&nbsp;<span class='string'>'Smith'</span></div>
<div>end</div>
<div>&nbsp;</div>
<div>p&nbsp;person.first&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;Bob</div>
<div>p&nbsp;person.last&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;Smith</div>

</div>
<div class='text'>
 
<div class='header'>
 <span>Callbacks, hooks, and runtime introspection</span> 
</div>

</div>
<div class='text'>

<p>method_missing can be used for delegation</p>

</div>
<div class='code'>
<div>class&nbsp;MyArray</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;initialize</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@array&nbsp;=&nbsp;[]</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;method_missing(method,&nbsp;*args,&nbsp;&b)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;@array.send(method,&nbsp;*args,&nbsp;&b)</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>ma&nbsp;=&nbsp;MyArray.new</div>
<div>ma&nbsp;<< 1</div>
<div>ma&nbsp;<< 2</div>
<div>ma&nbsp;<< 3</div>
<div>p&nbsp;ma.join(<span class='string'>',&nbsp;'</span>)&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;<span class='string'>"1,&nbsp;2,&nbsp;3"</span></div>

</div>
<div class='text'>

<p>use included to mixin a class method with include()</p>
<i>could use extend() but sometimes you want to mixin *both* class and instance methods</i>

</div>
<div class='code'>
<div>module&nbsp;MyModule</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;a_instance_method</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;<span class='string'>'hello&nbsp;from&nbsp;a_instance_method'</span></div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>&nbsp;&nbsp;def&nbsp;self.included(c)</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;c.a_class_method</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;puts&nbsp;<span class='string'>'hello&nbsp;from&nbsp;a_class_method'</span></div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;end</div>
<div>&nbsp;&nbsp;end</div>
<div>&nbsp;</div>
<div>end</div>
<div>&nbsp;</div>
<div>class&nbsp;MyClass</div>
<div>&nbsp;&nbsp;include&nbsp;MyModule</div>
<div>end</div>
<div>&nbsp;</div>
<div>MyClass.a_class_method&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello&nbsp;from&nbsp;a_class_method</div>
<div>MyClass.new.a_instance_method&nbsp;<span class='glyphicon glyphicon-arrow-right'></span>&nbsp;hello&nbsp;from&nbsp;a_instance_method</div>

</div>
<div class='text'>

<p>Note: Is it true there is no way to mixin module class methods?</p>
<i>Using include() we can include instance methods into a class.</i><br />
<i>Using extend() we can include instance methods into an objects singleton class.</i><br />
<i>There might be with unbind and bind, but its looking like a mess.</i>
<i></i>

</div>
<div class='code'>
<div><br /></div>
<div><br /></div>
<div><br /></div>
<div><br /></div>
<div><br /></div>
<div><br /></div>
<div><br /></div>
<div><br /></div>

</div>

  </div> <!-- /container -->

  <script src="../js/vendor/jquery-1.11.2.min.js">
  <script src="../js/vendor/bootstrap.min.js"></script>

</body>

</html>
